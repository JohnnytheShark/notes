name: Test Release Version

on:
    workflow_dispatch

jobs: 
    Test-Release: 
        runs-on: ubuntu-latest
        steps: 
            - name: Checkout Repository
              uses: actions/checkout@v3
            
            - name: Get All Releases
              id: releases
              run: |
                releases=$(gh release list --repo ${{ github.repository }} --json tag_name,created_at)
            
            - name: Sort and Select Latest Release
              run: |
                sorted_releases=$(echo "$releases" | jq -s '.[] | {tag_name, created_at}' | sort_by(.created_at) | reverse)
                latest_release=$(echo "$sorted_releases" | head -n 1 | jq -r '.tag_name')
                echo "Latest release version: $latest_release"
